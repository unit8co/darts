
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Metrics &#8212; darts  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=2d50e28e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=7aa11fa7"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'generated_api/darts.metrics.metrics';</script>
    <link rel="icon" href="../_static/docs-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metric Utils" href="darts.metrics.utils.html" />
    <link rel="prev" title="Metrics" href="darts.metrics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.38.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/darts-logo-light.png" class="logo__image only-light" alt="darts  documentation - Home"/>
    <img src="../_static/darts-logo-dark.png" class="logo__image only-dark pst-js-only" alt="darts  documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quickstart/00-quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="darts.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes/RELEASE_NOTES.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/unit8co/darts" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/unit8co" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quickstart/00-quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="darts.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes/RELEASE_NOTES.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/unit8co/darts" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/unit8co" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.ad.html">Anomaly Detection</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.ad.aggregators.html">Anomaly Aggregators</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.ad.aggregators.and_aggregator.html">AND Aggregator</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.aggregators.ensemble_sklearn_aggregator.html">Ensemble scikit-learn aggregator</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.aggregators.or_aggregator.html">OR Aggregator</a></li>

</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.ad.anomaly_model.html">Anomaly Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.ad.anomaly_model.filtering_am.html">Filtering Anomaly Model</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.anomaly_model.forecasting_am.html">Forecasting Anomaly Model</a></li>

</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.ad.detectors.html">Anomaly Detectors</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.ad.detectors.iqr_detector.html">Interquartile Range (IQR) Detector</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.detectors.quantile_detector.html">Quantile Detector</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.detectors.threshold_detector.html">Threshold Detector</a></li>

</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.ad.scorers.html">Anomaly Scorers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.difference_scorer.html">Difference Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.kmeans_scorer.html">k-means Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_cauchy_scorer.html">NLL Cauchy Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_exponential_scorer.html">NLL Exponential Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_gamma_scorer.html">NLL Gamma Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_gaussian_scorer.html">NLL Gaussian Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_laplace_scorer.html">NLL Laplace Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.nll_poisson_scorer.html">NLL Poisson Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.norm_scorer.html">Norm Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.pyod_scorer.html">PyOD Scorer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.ad.scorers.wasserstein_scorer.html">Wasserstein Scorer</a></li>

</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="darts.ad.utils.html">Utils for Anomaly Detection</a></li>



</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.dataprocessing.html">Data Processing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.dataprocessing.dtw.html">Dynamic Time Warping (DTW)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.dtw.cost_matrix.html">DTW Cost Matrix</a></li>



<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.dtw.dtw.html">Dynamic Time Warping (DTW)</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.dtw.window.html">DTW Windows</a></li>






</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.dataprocessing.encoders.html">Time Axis Encoders</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.encoders.encoder_base.html">Encoder Base Classes</a></li>






<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.encoders.encoders.html">Time Axes Encoders</a></li>















</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.dataprocessing.transformers.html">Data Transformers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.base_data_transformer.html">Data Transformer Base Class</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.boxcox.html">Box-Cox Transformer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.diff.html">Differencing Transformer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.fittable_data_transformer.html">Fittable Data Transformer Base Class</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.invertible_data_transformer.html">Invertible Data Transformer Base Class</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.mappers.html">Mapper and InvertibleMapper</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.midas.html">Mixed-data sampling (MIDAS) Transformer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.missing_values_filler.html">Missing Values Filler</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.reconciliation.html">Hierarchical Reconciliation</a></li>



<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.scaler.html">Scaler</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.static_covariates_transformer.html">Static Covariates Transformer</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.dataprocessing.transformers.window_transformer.html">Window Transformer</a></li>

</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="darts.dataprocessing.pipeline.html">Pipeline</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.datasets.html">Datasets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="darts.datasets.datasets.html">Datasets</a></li>



























</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.explainability.html">Explainability</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="darts.explainability.explainability_result.html">Explainability Result</a></li>




<li class="toctree-l2"><a class="reference internal" href="darts.explainability.shap_explainer.html">Shap Explainer for SKLearnModels</a></li>

<li class="toctree-l2"><a class="reference internal" href="darts.explainability.tft_explainer.html">TFTModel Explainer</a></li>

</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="darts.metrics.html">Metrics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Metrics</a></li>









































<li class="toctree-l2"><a class="reference internal" href="darts.metrics.utils.html">Metric Utils</a></li>




</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.models.html">Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.models.filtering.html">Filtering Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.models.filtering.gaussian_process_filter.html">Gaussian Process Filter</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.filtering.kalman_filter.html">Kalman Filter</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.filtering.moving_average_filter.html">Moving Average Filter</a></li>

</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.models.forecasting.html">Forecasting Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.arima.html">ARIMA</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.baselines.html">Baseline Models</a></li>





<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.block_rnn_model.html">Block Recurrent Neural Networks</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.catboost_model.html">CatBoost Models</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.chronos2_model.html">Chronos-2</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.conformal_models.html">Conformal Models</a></li>



<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.dlinear.html">D-Linear</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.exponential_smoothing.html">Exponential Smoothing</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.fft.html">Fast Fourier Transform</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.global_baseline_models.html">Global Baseline Models (Naive)</a></li>



<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.kalman_forecaster.html">Kalman Filter Forecaster</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.lgbm.html">LightGBM Models</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.linear_regression_model.html">Linear Regression Model</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.nbeats.html">N-BEATS</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.nhits.html">N-HiTS</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.nlinear.html">N-Linear</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.prophet_model.html">Facebook Prophet</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.random_forest.html">Random Forest</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.regression_ensemble_model.html">Regression Ensemble Model</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.rnn_model.html">Recurrent Neural Networks</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_arima.html">AutoARIMA</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_ces.html">AutoCES</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_ets.html">AutoETS</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_mfles.html">AutoMFLES</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_tbats.html">AutoTBATS</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_auto_theta.html">AutoTheta</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_croston.html">Croston Method</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_model.html">StatsForecastModel</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sf_tbats.html">TBATS</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.sklearn_model.html">SKLearn-Like Models</a></li>




<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.tcn_model.html">Temporal Convolutional Network</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.tft_model.html">Temporal Fusion Transformer (TFT)</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.tft_submodels.html">TFTModel Sub-Modules</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.theta.html">Theta Method</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.tide_model.html">Time-series Dense Encoder (TiDE)</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.transformer_model.html">Transformer Model</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.tsmixer_model.html">Time-Series Mixer (TSMixer)</a></li>


<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.varima.html">VARIMA</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.models.forecasting.xgboost.html">XGBoost Models</a></li>



</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="darts.utils.html">Utils</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.utils.data.html">TimeSeries Datasets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="darts.utils.data.torch_datasets.html">Datasets for TorchForecastingModel</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="darts.utils.data.torch_datasets.inference_dataset.html">Inference Datasets</a></li>


<li class="toctree-l4"><a class="reference internal" href="darts.utils.data.torch_datasets.training_dataset.html">Training Datasets</a></li>




</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="darts.utils.likelihood_models.html">Likelihood Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="darts.utils.likelihood_models.sklearn.html">Likelihoods for SKLearnModel</a></li>





<li class="toctree-l3"><a class="reference internal" href="darts.utils.likelihood_models.statsforecast.html">Likelihoods for StatsForecastModel</a></li>

<li class="toctree-l3"><a class="reference internal" href="darts.utils.likelihood_models.torch.html">Likelihoods for TorchForecastingModel</a></li>


















</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="darts.utils.callbacks.html">Callbacks for TorchForecastingModel</a></li>

<li class="toctree-l2"><a class="reference internal" href="darts.utils.losses.html">PyTorch Loss Functions</a></li>



<li class="toctree-l2"><a class="reference internal" href="darts.utils.missing_values.html">Utils for filling missing values</a></li>



<li class="toctree-l2"><a class="reference internal" href="darts.utils.model_selection.html">Model selection utilities</a></li>

<li class="toctree-l2"><a class="reference internal" href="darts.utils.statistics.html">TimeSeries Statistics</a></li>














<li class="toctree-l2"><a class="reference internal" href="darts.utils.timeseries_generation.html">Utils for TimeSeries generation</a></li>








<li class="toctree-l2"><a class="reference internal" href="darts.utils.torch.html">Utils for Pytorch and its usage</a></li>


<li class="toctree-l2"><a class="reference internal" href="darts.utils.utils.html">Additional util functions</a></li>














</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="darts.timeseries.html">Timeseries</a></li>



</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="darts.html" class="nav-link">Darts</a></li>
    
    
    <li class="breadcrumb-item"><a href="darts.metrics.html" class="nav-link">Metrics</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Metrics</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="metrics">
<span id="module-darts.metrics.metrics"></span><h1>Metrics<a class="headerlink" href="#metrics" title="Link to this heading">#</a></h1>
<p>Some metrics to compare time series.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.accuracy">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.accuracy" title="Link to this definition">#</a></dt>
<dd><p>Accuracy Score <a class="reference internal" href="#r286b0f002a1b-1" id="id1">[1]</a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T\mathbb{I}(y_t = \hat{y}_t)\]</div>
<p>Where <span class="math notranslate nohighlight">\(\mathbb{I}\)</span> is the indicator function.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples), it takes the label with the highest count from
each time step and component.
If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the predict class label probabilities, it takes the label with the highest
probability from each time step and component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components,) without component reduction.
For:</p>
<ul>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r286b0f002a1b-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall">https://en.wikipedia.org/wiki/Precision_and_recall</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ae">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ae</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ae"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ae" title="Link to this definition">#</a></dt>
<dd><p>Absolute Error (AE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[|y_t - \hat{y}_t|\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ape">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ape" title="Link to this definition">#</a></dt>
<dd><p>Absolute Percentage Error (APE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and time step <span class="math notranslate nohighlight">\(t\)</span> with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \left| \frac{y_t - \hat{y}_t}{y_t} \right|\]</div>
<p>Note that it will raise a <cite>ValueError</cite> if <span class="math notranslate nohighlight">\(y_t = 0\)</span> for some <span class="math notranslate nohighlight">\(t\)</span>. Consider using
the Absolute Scaled Error (<a class="reference internal" href="#darts.metrics.metrics.ase" title="darts.metrics.metrics.ase"><code class="xref py py-func docutils literal notranslate"><span class="pre">ase()</span></code></a>) in these cases.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>actual_series</cite> contains some zeros.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.arre">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">arre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#arre"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.arre" title="Link to this definition">#</a></dt>
<dd><p>Absolute Ranged Relative Error (ARRE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column, (optional) quantile and time step <span class="math notranslate nohighlight">\(t\)</span> with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \left| \frac{y_t - \hat{y}_t} {\max_t{y_t} - \min_t{y_t}} \right|\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <span class="math notranslate nohighlight">\(\max_t{y_t} = \min_t{y_t}\)</span>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ase">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ase" title="Link to this definition">#</a></dt>
<dd><p>Absolute Scaled Error (ASE) (see <a class="reference internal" href="#rfa0f437f94df-1" id="id2">[1]</a> for more information on scaled forecasting errors).</p>
<p>It is the Absolute Error (AE) scaled by the Mean AE (MAE) of the naive m-seasonal forecast.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{AE(y_{t_p+1:t_p+T}, \hat{y}_{t_p+1:t_p+T})}{E_m},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p\)</span> is the prediction time (one step before the first forecasted point), <span class="math notranslate nohighlight">\(AE\)</span> is the Absolute
Error (<a class="reference internal" href="#darts.metrics.metrics.ae" title="darts.metrics.metrics.ae"><code class="xref py py-func docutils literal notranslate"><span class="pre">ae()</span></code></a>), and <span class="math notranslate nohighlight">\(E_m\)</span> is the Mean AE (MAE) of the naive m-seasonal
forecast on the <cite>insample</cite> series <span class="math notranslate nohighlight">\(y_{0:t_p}\)</span> (the true series ending at <span class="math notranslate nohighlight">\(t_p\)</span>):</p>
<div class="math notranslate nohighlight">
\[E_m = MAE(y_{m:t_p}, y_{0:t_p - m}).\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>insample</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The training series used to forecast <cite>pred_series</cite> . This series serves to compute the scale of the error
obtained by a naive forecaster on the training data.</p></li>
<li><p><strong>m</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The seasonality to use for differencing to compute the error scale <span class="math notranslate nohighlight">\(E_m\)</span> (as described in the metric
description). <span class="math notranslate nohighlight">\(m=1\)</span> corresponds to a non-seasonal <span class="math notranslate nohighlight">\(E_m\)</span> (e.g. naive repetition of the last observed
value), whereas <span class="math notranslate nohighlight">\(m&gt;1\)</span> corresponds to a seasonal <span class="math notranslate nohighlight">\(E_m\)</span>.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>insample</cite> series is periodic ( <span class="math notranslate nohighlight">\(y_t = y_{t-m}\)</span> ) or any series in <cite>insample</cite> does not end one
time step before the start of the corresponding forecast in <cite>pred_series</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rfa0f437f94df-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/">https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.coefficient_of_variation">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">coefficient_of_variation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#coefficient_of_variation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.coefficient_of_variation" title="Link to this definition">#</a></dt>
<dd><p>Coefficient of Variation (percentage).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as a percentage value with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \text{RMSE}(y_t, \hat{y}_t) / \bar{y},\]</div>
<p>where <span class="math notranslate nohighlight">\(RMSE\)</span> is the Root Mean Squared Error (<a class="reference internal" href="#darts.metrics.metrics.rmse" title="darts.metrics.metrics.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a>), and <span class="math notranslate nohighlight">\(\bar{y}\)</span> is
the average of <span class="math notranslate nohighlight">\(y\)</span> over all time steps.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nansum&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#confusion_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.confusion_matrix" title="Link to this definition">#</a></dt>
<dd><p>Confusion Matrix (CM) <a class="reference internal" href="#r674151549124-1" id="id3">[1]</a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and label as:</p>
<p>The confusion matrix <span class="math notranslate nohighlight">\(C\)</span> is such that <span class="math notranslate nohighlight">\(C_{i,j}\)</span> is equal to the number of observations
<span class="math notranslate nohighlight">\(y\)</span> known to be in group <span class="math notranslate nohighlight">\(i\)</span> and predicted <span class="math notranslate nohighlight">\(\hat{y}\)</span> to be in group <span class="math notranslate nohighlight">\(j\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples), it takes the label with the highest count from
each time step and component.
If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the predict class label probabilities, it takes the label with the highest
probability from each time step and component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the labels and their order to compute the metric on. If <cite>None</cite>, will use all unique values from the
actual and predicted series.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>np.ndarray</em> – The Confusion Matrix as a numpy array for a single series. The array has shape (n components, n labels,
n labels) without component reduction, and shape (n labels, n labels) with component reduction.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r674151549124-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Confusion_matrix">https://en.wikipedia.org/wiki/Confusion_matrix</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.dtw_metric">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">dtw_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric=&lt;function</span> <span class="pre">mae&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#dtw_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.dtw_metric" title="Link to this definition">#</a></dt>
<dd><p>Applies Dynamic Time Warping to <cite>actual_series</cite> and <cite>pred_series</cite> before passing it into the metric.
Enables comparison between series of different lengths, phases and time indices.</p>
<p>Defaults to using <a class="reference internal" href="#darts.metrics.metrics.mae" title="darts.metrics.metrics.mae"><code class="xref py py-func docutils literal notranslate"><span class="pre">mae()</span></code></a> as a metric.</p>
<p>See <a class="reference internal" href="darts.dataprocessing.dtw.dtw.html#darts.dataprocessing.dtw.dtw.dtw" title="darts.dataprocessing.dtw.dtw.dtw"><code class="xref py py-func docutils literal notranslate"><span class="pre">dtw()</span></code></a> for more supported parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>metric</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – The selected metric with signature ‘[[TimeSeries, TimeSeries], float]’ to use. Default: <cite>mae</cite>.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.err">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">err</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#err"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.err" title="Link to this definition">#</a></dt>
<dd><p>Error (ERR).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[y_t - \hat{y}_t\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.f1">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">f1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_reduction=_LabelReduction.MACRO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#f1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.f1" title="Link to this definition">#</a></dt>
<dd><p>F1 Score <a class="reference internal" href="#r29fff3769b16-1" id="id4">[1]</a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column as:</p>
<div class="math notranslate nohighlight">
\[\frac{2TP}{2TP + FP + FN}\]</div>
<p>Where <span class="math notranslate nohighlight">\(TP\)</span> are the true positives, <span class="math notranslate nohighlight">\(FP\)</span> are the false positives, and <span class="math notranslate nohighlight">\(FN\)</span> are the false
negatives.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples), it takes the label with the highest count from
each time step and component.
If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the predict class label probabilities, it takes the label with the highest
probability from each time step and component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the labels and their order to compute the metric on. If <cite>None</cite>, will use all unique values from the
actual and predicted series.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>label_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_LabelReduction</span></code>]</span>) – <p>The method to reduce the label-specific metrics. Can be one of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: no reduction, returns a metric per label.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'micro'</span></code>: computes the metric globally by counting the total true positives, false negatives and false
positives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'macro'</span></code>: computes the metric for each label, and returns the unweighted mean.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'weighted'</span></code>: computes the metric for each label, and returns the weighted mean by support (the number of
true instances for each label).</p></li>
</ul>
</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>label_reduction != None</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n labels,) without component reduction,
and shape (n labels,) with component reduction. <cite>n labels</cite> is the number of labels when <cite>label_reduction=None</cite>,
and <cite>1</cite> otherwise.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>label_reduction=None</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r29fff3769b16-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall">https://en.wikipedia.org/wiki/Precision_and_recall</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ic">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ic" title="Link to this definition">#</a></dt>
<dd><p>Interval Coverage (IC).</p>
<p>IC gives a binary outcome with <cite>1</cite> if the observation is within the interval, and <cite>0</cite> otherwise.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{equation}
    \begin{cases}
        1 &amp; \text{if } L_t &lt; y_t &lt; U_t \\
        0 &amp; \text{otherwise}
    \end{cases}
\end{equation}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(U_t\)</span> are the predicted upper bound quantile values <span class="math notranslate nohighlight">\(\hat{y}_{q_h,t}\)</span> (of all predicted
quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>, and <span class="math notranslate nohighlight">\(L_t\)</span> are the predicted lower bound quantile values
<span class="math notranslate nohighlight">\(\hat{y}_{q_l,t}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n q intervals) without time-
and component reductions, and shape (n time steps, n q intervals) without time- but with component reduction and
<cite>len(q_interval) &gt; 1</cite>. For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.incs_qr">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">incs_qr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#incs_qr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.incs_qr" title="Link to this definition">#</a></dt>
<dd><p>Interval Non-Conformity Score for Quantile Regression (INCS_QR).</p>
<p>INCS_QR gives the absolute error to the closest predicted quantile interval bound when the observation is outside
the interval. Otherwise, it gives the negative absolute error to the closer bound.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\max(L_t - y_t, y_t - U_t)\]</div>
<p>where <span class="math notranslate nohighlight">\(U_t\)</span> are the predicted upper bound quantile values <span class="math notranslate nohighlight">\(\hat{y}_{q_h,t}\)</span> (of all predicted
quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>, and <span class="math notranslate nohighlight">\(L_t\)</span> are the predicted lower bound quantile values
<span class="math notranslate nohighlight">\(\hat{y}_{q_l,t}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>symmetric</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Whether to return symmetric non-conformity scores. If <cite>False</cite>, returns asymmetric scores (individual scores
for lower- and upper quantile interval bounds; returned in the component axis).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n q intervals) without time-
and component reductions, and shape (n time steps, n q intervals) without time- but with component reduction and
<cite>len(q_interval) &gt; 1</cite>. For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.iw">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">iw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#iw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.iw" title="Link to this definition">#</a></dt>
<dd><p>Interval Width (IW).</p>
<p>IL gives the width / length of predicted quantile intervals.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step
<span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[U_t - L_t,\]</div>
<p>where <span class="math notranslate nohighlight">\(U_t\)</span> are the predicted upper bound quantile values <span class="math notranslate nohighlight">\(\hat{y}_{q_h,t}\)</span> (of all predicted
quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>, and <span class="math notranslate nohighlight">\(L_t\)</span> are the predicted lower bound quantile values
<span class="math notranslate nohighlight">\(\hat{y}_{q_l,t}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n q intervals) without time-
and component reductions, and shape (n time steps, n q intervals) without time- but with component reduction and
<cite>len(q_interval) &gt; 1</cite>. For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.iws">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">iws</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#iws"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.iws" title="Link to this definition">#</a></dt>
<dd><p>Interval Winkler Score (IWS) <a class="reference internal" href="#r6c1f65bad7d3-1" id="id5">[1]</a>.</p>
<p>IWS gives the length / width of the quantile intervals plus a penalty if the observation is outside the interval.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{equation}
    \begin{cases}
        (U_t - L_t) + \frac{1}{q_l} (L_t - y_t) &amp; \text{if } y_t &lt; L_t \\
        (U_t - L_t) &amp; \text{if } L_t \leq y_t \leq U_t \\
        (U_t - L_t) + \frac{1}{1 - q_h} (y_t - U_t) &amp; \text{if } y_t &gt; U_t
    \end{cases}
\end{equation}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(U_t\)</span> are the predicted upper bound quantile values <span class="math notranslate nohighlight">\(\hat{y}_{q_h,t}\)</span> (of all predicted
quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>, and <span class="math notranslate nohighlight">\(L_t\)</span> are the predicted lower bound quantile values
<span class="math notranslate nohighlight">\(\hat{y}_{q_l,t}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n q intervals) without time-
and component reductions, and shape (n time steps, n q intervals) without time- but with component reduction and
<cite>len(q_interval) &gt; 1</cite>. For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r6c1f65bad7d3-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://otexts.com/fpp3/distaccuracy.html">https://otexts.com/fpp3/distaccuracy.html</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mae">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mae</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mae"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mae" title="Link to this definition">#</a></dt>
<dd><p>Mean Absolute Error (MAE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{|y_t - \hat{y}_t|}\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mape">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mape" title="Link to this definition">#</a></dt>
<dd><p>Mean Absolute Percentage Error (MAPE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and (optional) quantile with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \frac{1}{T} \sum_{t=1}^{T}{\left| \frac{y_t - \hat{y}_t}{y_t} \right|}\]</div>
<p>Note that it will raise a <cite>ValueError</cite> if <span class="math notranslate nohighlight">\(y_t = 0\)</span> for some <span class="math notranslate nohighlight">\(t\)</span>. Consider using
the Mean Absolute Scaled Error (<a class="reference internal" href="#darts.metrics.metrics.mase" title="darts.metrics.metrics.mase"><code class="xref py py-func docutils literal notranslate"><span class="pre">mase()</span></code></a>) in these cases.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>actual_series</cite> contains some zeros.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.marre">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">marre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#marre"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.marre" title="Link to this definition">#</a></dt>
<dd><p>Mean Absolute Ranged Relative Error (MARRE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and (optional) quantile with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \frac{1}{T} \sum_{t=1}^{T} {\left| \frac{y_t - \hat{y}_t} {\max_t{y_t} -
\min_t{y_t}} \right|}\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <span class="math notranslate nohighlight">\(\max_t{y_t} = \min_t{y_t}\)</span>.</p></li>
<li><p><strong>float</strong> – <p>A single metric score for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</p></li>
<li><p><strong>np.ndarray</strong> – <p>A numpy array of metric scores. The array has shape (n components,) without component reduction. For:</p>
<ul>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</p></li>
<li><p><strong>list</strong><strong>[</strong><strong>float</strong><strong>]</strong> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><strong>list</strong><strong>[</strong><strong>np.ndarray</strong><strong>]</strong> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mase">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mase" title="Link to this definition">#</a></dt>
<dd><p>Mean Absolute Scaled Error (MASE) (see <a class="reference internal" href="#rbb997f645b67-1" id="id6">[1]</a> for more information on scaled forecasting errors).</p>
<p>It is the Mean Absolute Error (MAE) scaled by the MAE of the naive m-seasonal forecast.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{MAE(y_{t_p+1:t_p+T}, \hat{y}_{t_p+1:t_p+T})}{E_m},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p\)</span> is the prediction time (one step before the first forecasted point), <span class="math notranslate nohighlight">\(MAE\)</span> is the Mean
Absolute Error (<a class="reference internal" href="#darts.metrics.metrics.mae" title="darts.metrics.metrics.mae"><code class="xref py py-func docutils literal notranslate"><span class="pre">mae()</span></code></a>), and <span class="math notranslate nohighlight">\(E_m\)</span> is the MAE of the naive m-seasonal
forecast on the <cite>insample</cite> series <span class="math notranslate nohighlight">\(y_{0:t_p}\)</span> (the true series ending at <span class="math notranslate nohighlight">\(t_p\)</span>):</p>
<div class="math notranslate nohighlight">
\[E_m = MAE(y_{m:t_p}, y_{0:t_p - m}).\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>insample</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The training series used to forecast <cite>pred_series</cite> . This series serves to compute the scale of the error
obtained by a naive forecaster on the training data.</p></li>
<li><p><strong>m</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The seasonality to use for differencing to compute the error scale <span class="math notranslate nohighlight">\(E_m\)</span> (as described in the metric
description). <span class="math notranslate nohighlight">\(m=1\)</span> corresponds to a non-seasonal <span class="math notranslate nohighlight">\(E_m\)</span> (e.g. naive repetition of the last observed
value), whereas <span class="math notranslate nohighlight">\(m&gt;1\)</span> corresponds to a seasonal <span class="math notranslate nohighlight">\(E_m\)</span>.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>insample</cite> series is periodic ( <span class="math notranslate nohighlight">\(y_t = y_{t-m}\)</span> ) or any series in <cite>insample</cite> does not end one
time step before the start of the corresponding forecast in <cite>pred_series</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rbb997f645b67-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/">https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.merr">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">merr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#merr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.merr" title="Link to this definition">#</a></dt>
<dd><p>Mean Error (MERR).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{(y_t - \hat{y}_t)}\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mic">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mic" title="Link to this definition">#</a></dt>
<dd><p>Mean Interval Coverage (MIC).</p>
<p>MIC gives the time-aggregated Interval Coverage <a class="reference internal" href="#darts.metrics.metrics.ic" title="darts.metrics.metrics.ic"><code class="xref py py-func docutils literal notranslate"><span class="pre">ic()</span></code></a> - the ratio of observations
being within the interval.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{C(y_t, \hat{y}_{t}, q_h, q_l)},\]</div>
<p>where <span class="math notranslate nohighlight">\(C\)</span> is the Interval Coverage <a class="reference internal" href="#darts.metrics.metrics.ic" title="darts.metrics.metrics.ic"><code class="xref py py-func docutils literal notranslate"><span class="pre">ic()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n q intervals,) without component reduction,
and shape (n q intervals,) with component reduction and <cite>len(q_interval) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mincs_qr">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mincs_qr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mincs_qr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mincs_qr" title="Link to this definition">#</a></dt>
<dd><p>Mean Interval Non-Conformity Score for Quantile Regression (MINCS_QR).</p>
<p>MINCS_QR gives the time-aggregated INCS_QR <a class="reference internal" href="#darts.metrics.metrics.incs_qr" title="darts.metrics.metrics.incs_qr"><code class="xref py py-func docutils literal notranslate"><span class="pre">incs_qr()</span></code></a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{INCS_QR(y_t, \hat{y}_{t}, q_h, q_l)},\]</div>
<p>where <span class="math notranslate nohighlight">\(INCS_QR\)</span> is the Interval Non-Conformity Score for Quantile Regression
<a class="reference internal" href="#darts.metrics.metrics.incs_qr" title="darts.metrics.metrics.incs_qr"><code class="xref py py-func docutils literal notranslate"><span class="pre">incs_qr()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>symmetric</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Whether to return symmetric non-conformity scores. If <cite>False</cite>, returns asymmetric scores (individual scores
for lower- and upper quantile interval bounds; returned in the component axis).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n q intervals,) without component reduction,
and shape (n q intervals,) with component reduction and <cite>len(q_interval) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.miw">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">miw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#miw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.miw" title="Link to this definition">#</a></dt>
<dd><p>Mean Interval Width (MIW).</p>
<p>MIW gives the time-aggregated width / length of predicted quantile intervals.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step
<span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{U_t - L_t},\]</div>
<p>where <span class="math notranslate nohighlight">\(U_t\)</span> are the predicted upper bound quantile values <span class="math notranslate nohighlight">\(\hat{y}_{q_h,t}\)</span> (of all predicted
quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>, and <span class="math notranslate nohighlight">\(L_t\)</span> are the predicted lower bound quantile values
<span class="math notranslate nohighlight">\(\hat{y}_{q_l,t}\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n q intervals,) without component reduction,
and shape (n q intervals,) with component reduction and <cite>len(q_interval) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.miws">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">miws</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_interval=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#miws"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.miws" title="Link to this definition">#</a></dt>
<dd><p>Mean Interval Winkler Score (IWS) <a class="reference internal" href="#r29534b55a4e8-1" id="id7">[1]</a>.</p>
<p>MIWS gives the time-aggregated length / width of the quantile intervals plus a penalty if the observation is
outside the interval.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic or quantile series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>,
it is computed per component/column, quantile interval <span class="math notranslate nohighlight">\((q_l,q_h)\)</span>, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{W_t(y_t, \hat{y}_{t}, q_h, q_l)},\]</div>
<p>where <span class="math notranslate nohighlight">\(W\)</span> is the Winkler Score <a class="reference internal" href="#darts.metrics.metrics.iws" title="darts.metrics.metrics.iws"><code class="xref py py-func docutils literal notranslate"><span class="pre">iws()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q_interval</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span>) – The quantile interval(s) to compute the metric on. Must be a tuple (single interval) or sequence of tuples
(multiple intervals) with elements (low quantile, high quantile).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Quantiles <cite>q</cite> not supported by this metric; use <cite>q_interval</cite> instead.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score for (with <cite>len(q_interval) &lt;= 1</cite>):</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n q intervals,) without component reduction,
and shape (n q intervals,) with component reduction and <cite>len(q_interval) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the input from the <cite>float</cite> return case above but with <cite>len(q_interval) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r29534b55a4e8-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://otexts.com/fpp3/distaccuracy.html">https://otexts.com/fpp3/distaccuracy.html</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mql">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mql" title="Link to this definition">#</a></dt>
<dd><p>Mean Quantile Loss (MQL).</p>
<p>Also known as Pinball Loss. QL is a metric that quantifies the accuracy of a specific quantile <span class="math notranslate nohighlight">\(q\)</span> from the
predicted deterministic quantiles or value distribution of a stochastic/probabilistic <cite>pred_series</cite> containing N
samples.</p>
<p>MQL first computes the quantile of all sample values and the loss per time step, and then takes the mean over the
time axis.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic/probabilistic series (containing N samples) <span class="math notranslate nohighlight">\(\hat{y}\)</span>
of of shape <span class="math notranslate nohighlight">\(T \times N\)</span>, it is computed per column/component and quantile as:</p>
<div class="math notranslate nohighlight">
\[2 \frac{1}{T}\sum_{t=1}^T{\max((q - 1) (y_t - \hat{y}_{t,q}), q (y_t - \hat{y}_{t,q}))},\]</div>
<p>where <span class="math notranslate nohighlight">\(\hat{y}_{t,q}\)</span> is quantile value <span class="math notranslate nohighlight">\(q\)</span> (of all predicted quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>.
The factor <cite>2</cite> makes the loss more interpretable, as for <cite>q=0.5</cite> the loss is identical to the Mean Absolute Error
(<a class="reference internal" href="#darts.metrics.metrics.mae" title="darts.metrics.metrics.mae"><code class="xref py py-func docutils literal notranslate"><span class="pre">mae()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>]]</span>) – The quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.mse">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">mse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#mse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.mse" title="Link to this definition">#</a></dt>
<dd><p>Mean Squared Error (MSE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{T}\sum_{t=1}^T{(y_t - \hat{y}_t)^2}.\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.msse">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">msse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#msse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.msse" title="Link to this definition">#</a></dt>
<dd><p>Mean Squared Scaled Error (MSSE) (see <a class="reference internal" href="#rb598f7b954d8-1" id="id8">[1]</a> for more information on scaled forecasting errors).</p>
<p>It is the Mean Squared Error (MSE) scaled by the MSE of the naive m-seasonal forecast.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{MSE(y_{t_p+1:t_p+T}, \hat{y}_{t_p+1:t_p+T})}{E_m},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p\)</span> is the prediction time (one step before the first forecasted point), <span class="math notranslate nohighlight">\(MSE\)</span> is the Mean
Squared Error (<a class="reference internal" href="#darts.metrics.metrics.mse" title="darts.metrics.metrics.mse"><code class="xref py py-func docutils literal notranslate"><span class="pre">mse()</span></code></a>), and <span class="math notranslate nohighlight">\(E_m\)</span> is the MSE of the naive m-seasonal
forecast on the <cite>insample</cite> series <span class="math notranslate nohighlight">\(y_{0:t_p}\)</span> (the true series ending at <span class="math notranslate nohighlight">\(t_p\)</span>):</p>
<div class="math notranslate nohighlight">
\[E_m = MSE(y_{m:t_p}, y_{0:t_p - m}).\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>insample</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The training series used to forecast <cite>pred_series</cite> . This series serves to compute the scale of the error
obtained by a naive forecaster on the training data.</p></li>
<li><p><strong>m</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The seasonality to use for differencing to compute the error scale <span class="math notranslate nohighlight">\(E_m\)</span> (as described in the metric
description). <span class="math notranslate nohighlight">\(m=1\)</span> corresponds to a non-seasonal <span class="math notranslate nohighlight">\(E_m\)</span> (e.g. naive repetition of the last observed
value), whereas <span class="math notranslate nohighlight">\(m&gt;1\)</span> corresponds to a seasonal <span class="math notranslate nohighlight">\(E_m\)</span>.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>insample</cite> series is periodic ( <span class="math notranslate nohighlight">\(y_t = y_{t-m}\)</span> ) or any series in <cite>insample</cite> does not end one
time step before the start of the corresponding forecast in <cite>pred_series</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rb598f7b954d8-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/">https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ope">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ope" title="Link to this definition">#</a></dt>
<dd><p>Overall Percentage Error (OPE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and (optional) quantile with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \left| \frac{\sum_{t=1}^{T}{y_t}
- \sum_{t=1}^{T}{\hat{y}_t}}{\sum_{t=1}^{T}{y_t}} \right|.\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <span class="math notranslate nohighlight">\(\sum_{t=1}^{T}{y_t} = 0\)</span>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.precision">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">precision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_reduction=_LabelReduction.MACRO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#precision"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.precision" title="Link to this definition">#</a></dt>
<dd><p>Precision Score <a class="reference internal" href="#rfbeb0d7db272-1" id="id9">[1]</a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column as:</p>
<div class="math notranslate nohighlight">
\[\frac{TP}{TP + FP}\]</div>
<p>Where <span class="math notranslate nohighlight">\(TP\)</span> are the true positives, and <span class="math notranslate nohighlight">\(FP\)</span> are the false positives.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples), it takes the label with the highest count from
each time step and component.
If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the predict class label probabilities, it takes the label with the highest
probability from each time step and component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the labels and their order to compute the metric on. If <cite>None</cite>, will use all unique values from the
actual and predicted series.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>label_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_LabelReduction</span></code>]</span>) – <p>The method to reduce the label-specific metrics. Can be one of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: no reduction, returns a metric per label.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'micro'</span></code>: computes the metric globally by counting the total true positives, false negatives and false
positives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'macro'</span></code>: computes the metric for each label, and returns the unweighted mean.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'weighted'</span></code>: computes the metric for each label, and returns the weighted mean by support (the number of
true instances for each label).</p></li>
</ul>
</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>label_reduction != None</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n labels,) without component reduction,
and shape (n labels,) with component reduction. <cite>n labels</cite> is the number of labels when <cite>label_reduction=None</cite>,
and <cite>1</cite> otherwise.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>label_reduction=None</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rfbeb0d7db272-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall">https://en.wikipedia.org/wiki/Precision_and_recall</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.ql">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">ql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#ql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.ql" title="Link to this definition">#</a></dt>
<dd><p>Quantile Loss (QL).</p>
<p>Also known as Pinball Loss. QL is a metric that quantifies the accuracy of a specific quantile <span class="math notranslate nohighlight">\(q\)</span> from the
predicted deterministic quantiles or value distribution of a stochastic/probabilistic <cite>pred_series</cite> containing N
samples.</p>
<p>QL computes the quantile of all sample values and the loss per time step.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic/probabilistic series (containing N samples) <span class="math notranslate nohighlight">\(\hat{y}\)</span>
of of shape <span class="math notranslate nohighlight">\(T \times N\)</span>, it is computed per column/component, quantile and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[2 \max((q - 1) (y_t - \hat{y}_{t,q}), q (y_t - \hat{y}_{t,q})),\]</div>
<p>where <span class="math notranslate nohighlight">\(\hat{y}_{t,q}\)</span> is quantile value <span class="math notranslate nohighlight">\(q\)</span> (of all predicted quantiles or samples) at time <span class="math notranslate nohighlight">\(t\)</span>.
The factor <cite>2</cite> makes the loss more interpretable, as for <cite>q=0.5</cite> the loss is identical to the Absolute Error
(<a class="reference internal" href="#darts.metrics.metrics.ae" title="darts.metrics.metrics.ae"><code class="xref py py-func docutils literal notranslate"><span class="pre">ae()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>]]</span>) – The quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.qr">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">qr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#qr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.qr" title="Link to this definition">#</a></dt>
<dd><p>Quantile Risk (QR)</p>
<p>QR is a metric that quantifies the accuracy of a specific quantile <span class="math notranslate nohighlight">\(q\)</span> from the predicted value
distribution of a stochastic/probabilistic <cite>pred_series</cite> containing N samples.</p>
<p>The main difference to the Quantile Loss (QL) is that QR computes the quantile and loss on the aggregate of all
sample values summed up along the time axis (QL computes the quantile and loss per time step).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted stochastic/probabilistic series (containing N samples) <span class="math notranslate nohighlight">\(\hat{y}\)</span>
of of shape <span class="math notranslate nohighlight">\(T \times N\)</span>, it is computed per column/component and quantile as:</p>
<div class="math notranslate nohighlight">
\[2 \frac{QL(Z, \hat{Z}_q)}{Z},\]</div>
<p>where <span class="math notranslate nohighlight">\(QL\)</span> is the Quantile Loss (<a class="reference internal" href="#darts.metrics.metrics.ql" title="darts.metrics.metrics.ql"><code class="xref py py-func docutils literal notranslate"><span class="pre">ql()</span></code></a>), <span class="math notranslate nohighlight">\(Z = \sum_{t=1}^{T} y_t\)</span> is
the sum of all target/actual values, <span class="math notranslate nohighlight">\(\hat{Z} = \sum_{t=1}^{T} \hat{y}_t\)</span> is the sum of all predicted
samples along the time axis, and <span class="math notranslate nohighlight">\(\hat{Z}_q\)</span> is the quantile <span class="math notranslate nohighlight">\(q\)</span> of that sum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>]]</span>) – The quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.r2_score">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">r2_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#r2_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.r2_score" title="Link to this definition">#</a></dt>
<dd><p>Coefficient of Determination <span class="math notranslate nohighlight">\(R^2\)</span> (see <a class="reference internal" href="#r8f5401e9d931-1" id="id10">[1]</a> for more details).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[1 - \frac{\sum_{t=1}^T{(y_t - \hat{y}_t)^2}}{\sum_{t=1}^T{(y_t - \bar{y})^2}},\]</div>
<p>where <span class="math notranslate nohighlight">\(\bar{y}\)</span> is the mean of <span class="math notranslate nohighlight">\(y\)</span> over all time steps.</p>
<p>This metric is not symmetric.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r8f5401e9d931-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Coefficient_of_determination">https://en.wikipedia.org/wiki/Coefficient_of_determination</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.recall">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">recall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_reduction=_LabelReduction.MACRO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#recall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.recall" title="Link to this definition">#</a></dt>
<dd><p>Recall Score <a class="reference internal" href="#r3f31feb5f6b0-1" id="id11">[1]</a>.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column as:</p>
<div class="math notranslate nohighlight">
\[\frac{TP}{TP + FN}\]</div>
<p>Where <span class="math notranslate nohighlight">\(TP\)</span> are the true positives, and <span class="math notranslate nohighlight">\(FN\)</span> are the false negatives.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples), it takes the label with the highest count from
each time step and component.
If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the predict class label probabilities, it takes the label with the highest
probability from each time step and component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the labels and their order to compute the metric on. If <cite>None</cite>, will use all unique values from the
actual and predicted series.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>label_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_LabelReduction</span></code>]</span>) – <p>The method to reduce the label-specific metrics. Can be one of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: no reduction, returns a metric per label.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'micro'</span></code>: computes the metric globally by counting the total true positives, false negatives and false
positives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'macro'</span></code>: computes the metric for each label, and returns the unweighted mean.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'weighted'</span></code>: computes the metric for each label, and returns the weighted mean by support (the number of
true instances for each label).</p></li>
</ul>
</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>label_reduction != None</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n labels,) without component reduction,
and shape (n labels,) with component reduction. <cite>n labels</cite> is the number of labels when <cite>label_reduction=None</cite>,
and <cite>1</cite> otherwise.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>label_reduction=None</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r3f31feb5f6b0-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall">https://en.wikipedia.org/wiki/Precision_and_recall</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.rmse">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">rmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#rmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.rmse" title="Link to this definition">#</a></dt>
<dd><p>Root Mean Squared Error (RMSE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\sqrt{\frac{1}{T}\sum_{t=1}^T{(y_t - \hat{y}_t)^2}}\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.rmsle">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">rmsle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#rmsle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.rmsle" title="Link to this definition">#</a></dt>
<dd><p>Root Mean Squared Log Error (RMSLE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\sqrt{\frac{1}{T}\sum_{t=1}^T{\left(\log{(y_t + 1)} - \log{(\hat{y}_t + 1)}\right)^2}}\]</div>
<p>using the natural logarithm.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.rmsse">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">rmsse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#rmsse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.rmsse" title="Link to this definition">#</a></dt>
<dd><p>Root Mean Squared Scaled Error (RMSSE) (see <a class="reference internal" href="#rcf05950e705d-1" id="id12">[1]</a> for more information on scaled forecasting errors).</p>
<p>It is the Root Mean Squared Error (RMSE) scaled by the RMSE of the naive m-seasonal forecast.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column and (optional) quantile as:</p>
<div class="math notranslate nohighlight">
\[\frac{RMSE(y_{t_p+1:t_p+T}, \hat{y}_{t_p+1:t_p+T})}{E_m},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p\)</span> is the prediction time (one step before the first forecasted point), <span class="math notranslate nohighlight">\(RMSE\)</span> is the Root
Mean Squared Error (<a class="reference internal" href="#darts.metrics.metrics.rmse" title="darts.metrics.metrics.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a>), and <span class="math notranslate nohighlight">\(E_m\)</span> is the RMSE of the naive m-seasonal
forecast on the <cite>insample</cite> series <span class="math notranslate nohighlight">\(y_{0:t_p}\)</span> (the true series ending at <span class="math notranslate nohighlight">\(t_p\)</span>):</p>
<div class="math notranslate nohighlight">
\[E_m = RMSE(y_{m:t_p}, y_{0:t_p - m}).\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>insample</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The training series used to forecast <cite>pred_series</cite> . This series serves to compute the scale of the error
obtained by a naive forecaster on the training data.</p></li>
<li><p><strong>m</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The seasonality to use for differencing to compute the error scale <span class="math notranslate nohighlight">\(E_m\)</span> (as described in the metric
description). <span class="math notranslate nohighlight">\(m=1\)</span> corresponds to a non-seasonal <span class="math notranslate nohighlight">\(E_m\)</span> (e.g. naive repetition of the last observed
value), whereas <span class="math notranslate nohighlight">\(m&gt;1\)</span> corresponds to a seasonal <span class="math notranslate nohighlight">\(E_m\)</span>.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>insample</cite> series is periodic ( <span class="math notranslate nohighlight">\(y_t = y_{t-m}\)</span> ) or any series in <cite>insample</cite> does not end one
time step before the start of the corresponding forecast in <cite>pred_series</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rcf05950e705d-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/">https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.sape">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">sape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#sape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.sape" title="Link to this definition">#</a></dt>
<dd><p>symmetric Absolute Percentage Error (sAPE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column, (optional) quantile and time step <span class="math notranslate nohighlight">\(t\)</span> with:</p>
<div class="math notranslate nohighlight">
\[200 \cdot \frac{\left| y_t - \hat{y}_t \right|}{\left| y_t \right| + \left| \hat{y}_t \right|}\]</div>
<p>Note that it will raise a <cite>ValueError</cite> if <span class="math notranslate nohighlight">\(\left| y_t \right| + \left| \hat{y}_t \right| = 0\)</span> for some
<span class="math notranslate nohighlight">\(t\)</span>. Consider using the Absolute Scaled Error (<a class="reference internal" href="#darts.metrics.metrics.ase" title="darts.metrics.metrics.ase"><code class="xref py py-func docutils literal notranslate"><span class="pre">ase()</span></code></a>)  in these cases.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>actual_series</cite> and <cite>pred_series</cite> contain some zeros at the same time index.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.se">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">se</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#se"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.se" title="Link to this definition">#</a></dt>
<dd><p>Squared Error (SE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[(y_t - \hat{y}_t)^2.\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.sle">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">sle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#sle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.sle" title="Link to this definition">#</a></dt>
<dd><p>Squared Log Error (SLE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\left(\log{(y_t + 1)} - \log{(\hat{y} + 1)}\right)^2\]</div>
<p>using the natural logarithm.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.smape">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">smape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#smape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.smape" title="Link to this definition">#</a></dt>
<dd><p>symmetric Mean Absolute Percentage Error (sMAPE).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and (optional) quantile with:</p>
<div class="math notranslate nohighlight">
\[200 \cdot \frac{1}{T}
\sum_{t=1}^{T}{\frac{\left| y_t - \hat{y}_t \right|}{\left| y_t \right| + \left| \hat{y}_t \right|} }\]</div>
<p>Note that it will raise a <cite>ValueError</cite> if <span class="math notranslate nohighlight">\(\left| y_t \right| + \left| \hat{y}_t \right| = 0\)</span>
for some <span class="math notranslate nohighlight">\(t\)</span>. Consider using the Mean Absolute Scaled Error (<a class="reference internal" href="#darts.metrics.metrics.mase" title="darts.metrics.metrics.mase"><code class="xref py py-func docutils literal notranslate"><span class="pre">mase()</span></code></a>) in these
cases.</p>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>actual_series</cite> and the <cite>pred_series</cite> contain some zeros at the same time index.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.sse">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">sse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#sse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.sse" title="Link to this definition">#</a></dt>
<dd><p>Squared Scaled Error (SSE) (see <a class="reference internal" href="#rd5f48f355bfb-1" id="id13">[1]</a> for more information on scaled forecasting errors).</p>
<p>It is the Squared Error (SE) scaled by the Mean SE (MSE) of the naive m-seasonal forecast.</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed per
component/column, (optional) quantile, and time step <span class="math notranslate nohighlight">\(t\)</span> as:</p>
<div class="math notranslate nohighlight">
\[\frac{SE(y_{t_p+1:t_p+T}, \hat{y}_{t_p+1:t_p+T})}{E_m},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p\)</span> is the prediction time (one step before the first forecasted point), <span class="math notranslate nohighlight">\(SE\)</span> is the Squared
Error (<a class="reference internal" href="#darts.metrics.metrics.se" title="darts.metrics.metrics.se"><code class="xref py py-func docutils literal notranslate"><span class="pre">se()</span></code></a>), and <span class="math notranslate nohighlight">\(E_m\)</span> is the Mean SE (MSE) of the naive m-seasonal
forecast on the <cite>insample</cite> series <span class="math notranslate nohighlight">\(y_{0:t_p}\)</span> (the true series ending at <span class="math notranslate nohighlight">\(t_p\)</span>):</p>
<div class="math notranslate nohighlight">
\[E_m = MSE(y_{m:t_p}, y_{0:t_p - m}).\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>insample</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The training series used to forecast <cite>pred_series</cite> . This series serves to compute the scale of the error
obtained by a naive forecaster on the training data.</p></li>
<li><p><strong>m</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The seasonality to use for differencing to compute the error scale <span class="math notranslate nohighlight">\(E_m\)</span> (as described in the metric
description). <span class="math notranslate nohighlight">\(m=1\)</span> corresponds to a non-seasonal <span class="math notranslate nohighlight">\(E_m\)</span> (e.g. naive repetition of the last observed
value), whereas <span class="math notranslate nohighlight">\(m&gt;1\)</span> corresponds to a seasonal <span class="math notranslate nohighlight">\(E_m\)</span>.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>time_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the time axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(c,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
time axis. If <cite>None</cite>, will return a metric per time step.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the <cite>insample</cite> series is periodic ( <span class="math notranslate nohighlight">\(y_t = y_{t-m}\)</span> ) or any series in <cite>insample</cite> does not end one
time step before the start of the corresponding forecast in <cite>pred_series</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite>, <cite>component_reduction</cite> and
<cite>time_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n time steps, n components * n quantiles) without time-
and component reductions, and shape (n time steps, n quantiles) without time- but with component reduction and
<cite>len(q) &gt; 1</cite>. For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a single uni/multivariate series and at least <cite>time_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and at least one of
<cite>component_reduction=None</cite> or <cite>time_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rd5f48f355bfb-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/">https://www.pmorgan.com.au/tutorials/mae%2C-mape%2C-mase-and-the-scaled-rmse/</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="darts.metrics.metrics.wmape">
<span class="sig-prename descclassname"><span class="pre">darts.metrics.metrics.</span></span><span class="sig-name descname"><span class="pre">wmape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersect=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_reduction=&lt;function</span> <span class="pre">nanmean&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_reduction=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/metrics/metrics.html#wmape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#darts.metrics.metrics.wmape" title="Link to this definition">#</a></dt>
<dd><p>Weighted Mean Absolute Percentage Error (WMAPE). (see <a class="reference internal" href="#r383dbe9c3466-1" id="id14">[1]</a> for more information).</p>
<p>For the true series <span class="math notranslate nohighlight">\(y\)</span> and predicted series <span class="math notranslate nohighlight">\(\hat{y}\)</span> of length <span class="math notranslate nohighlight">\(T\)</span>, it is computed as a
percentage value per component/column and (optional) quantile with:</p>
<div class="math notranslate nohighlight">
\[100 \cdot \frac{\sum_{t=1}^T |y_t - \hat{y}_t|}{\sum_{t=1}^T |y_t|}\]</div>
<p>If <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> are stochastic (contains several samples) or quantile predictions, use parameter <cite>q</cite> to
specify on which quantile(s) to compute the metric on. By default, it uses the median 0.5 quantile
(over all samples, or, if given, the quantile prediction itself).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actual_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) actual series.</p></li>
<li><p><strong>pred_series</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>]]</span>) – The (sequence of) predicted series.</p></li>
<li><p><strong>intersect</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – For time series that are overlapping in time without having the same time index, setting <cite>True</cite>
will consider the values only over their common time interval (intersection in time).</p></li>
<li><p><strong>q</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – Optionally, the quantile (float [0, 1]) or list of quantiles of interest to compute the metric on.</p></li>
<li><p><strong>component_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span>) – Optionally, a function to aggregate the metrics over the component/column axis. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t,)</cite>. The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>1</cite> corresponding to the
component axis. If <cite>None</cite>, will return a metric per component.</p></li>
<li><p><strong>series_reduction</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Optionally, a function to aggregate the metrics over multiple series. It must reduce a <cite>np.ndarray</cite>
of shape <cite>(s, t, c)</cite> to a <cite>np.ndarray</cite> of shape <cite>(t, c)</cite> The function takes as input a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> and a
parameter named <cite>axis</cite>, and returns the reduced array. The <cite>axis</cite> receives value <cite>0</cite> corresponding to the
series axis. For example with <cite>np.nanmean</cite>, will return the average over all series metrics. If <cite>None</cite>, will
return a metric per component.</p></li>
<li><p><strong>n_jobs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The number of jobs to run in parallel. Parallel jobs are created only when a <code class="docutils literal notranslate"><span class="pre">Sequence[TimeSeries]</span></code> is
passed as input, parallelising operations regarding different <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>. Defaults to <cite>1</cite>
(sequential). Setting the parameter to <cite>-1</cite> means using all the available processors.</p></li>
<li><p><strong>verbose</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Optionally, whether to print operations progress.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>actual_series</cite> contains some zeros.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – A single metric score (when <cite>len(q) &lt;= 1</cite>) for:</p>
<ul>
<li><p>a single univariate series.</p></li>
<li><p>a single multivariate series with <cite>component_reduction</cite>.</p></li>
<li><p>a sequence (list) of uni/multivariate series with <cite>series_reduction</cite> and <cite>component_reduction</cite>.</p></li>
</ul>
</li>
<li><p><em>np.ndarray</em> – A numpy array of metric scores. The array has shape (n components * n quantiles,) without component reduction,
and shape (n quantiles,) with component reduction and <cite>len(q) &gt; 1</cite>.
For:</p>
<ul>
<li><p>the same input arguments that result in the <cite>float</cite> return case from above but with <cite>len(q) &gt; 1</cite>.</p></li>
<li><p>a single multivariate series and at least <cite>component_reduction=None</cite>.</p></li>
<li><p>a sequence of uni/multivariate series including <cite>series_reduction</cite> and <cite>component_reduction=None</cite>.</p></li>
</ul>
</li>
<li><p><em>list[float]</em> – Same as for type <cite>float</cite> but for a sequence of series.</p></li>
<li><p><em>list[np.ndarray]</em> – Same as for type <cite>np.ndarray</cite> but for a sequence of series.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r383dbe9c3466-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id14">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Mean_absolute_percentage_error#WMAPE">https://en.wikipedia.org/wiki/Mean_absolute_percentage_error#WMAPE</a></p>
</div>
</div>
</dd></dl>



                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="darts.metrics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Metrics</p>
      </div>
    </a>
    <a class="right-next"
       href="darts.metrics.utils.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Metric Utils</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Metrics</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.accuracy"><code class="docutils literal notranslate"><span class="pre">accuracy()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ae"><code class="docutils literal notranslate"><span class="pre">ae()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ape"><code class="docutils literal notranslate"><span class="pre">ape()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.arre"><code class="docutils literal notranslate"><span class="pre">arre()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ase"><code class="docutils literal notranslate"><span class="pre">ase()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.coefficient_of_variation"><code class="docutils literal notranslate"><span class="pre">coefficient_of_variation()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.confusion_matrix"><code class="docutils literal notranslate"><span class="pre">confusion_matrix()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.dtw_metric"><code class="docutils literal notranslate"><span class="pre">dtw_metric()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.err"><code class="docutils literal notranslate"><span class="pre">err()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.f1"><code class="docutils literal notranslate"><span class="pre">f1()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ic"><code class="docutils literal notranslate"><span class="pre">ic()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.incs_qr"><code class="docutils literal notranslate"><span class="pre">incs_qr()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.iw"><code class="docutils literal notranslate"><span class="pre">iw()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.iws"><code class="docutils literal notranslate"><span class="pre">iws()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mae"><code class="docutils literal notranslate"><span class="pre">mae()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mape"><code class="docutils literal notranslate"><span class="pre">mape()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.marre"><code class="docutils literal notranslate"><span class="pre">marre()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mase"><code class="docutils literal notranslate"><span class="pre">mase()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.merr"><code class="docutils literal notranslate"><span class="pre">merr()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mic"><code class="docutils literal notranslate"><span class="pre">mic()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mincs_qr"><code class="docutils literal notranslate"><span class="pre">mincs_qr()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.miw"><code class="docutils literal notranslate"><span class="pre">miw()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.miws"><code class="docutils literal notranslate"><span class="pre">miws()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mql"><code class="docutils literal notranslate"><span class="pre">mql()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.mse"><code class="docutils literal notranslate"><span class="pre">mse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.msse"><code class="docutils literal notranslate"><span class="pre">msse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ope"><code class="docutils literal notranslate"><span class="pre">ope()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.precision"><code class="docutils literal notranslate"><span class="pre">precision()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.ql"><code class="docutils literal notranslate"><span class="pre">ql()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.qr"><code class="docutils literal notranslate"><span class="pre">qr()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.r2_score"><code class="docutils literal notranslate"><span class="pre">r2_score()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.recall"><code class="docutils literal notranslate"><span class="pre">recall()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.rmse"><code class="docutils literal notranslate"><span class="pre">rmse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.rmsle"><code class="docutils literal notranslate"><span class="pre">rmsle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.rmsse"><code class="docutils literal notranslate"><span class="pre">rmsse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.sape"><code class="docutils literal notranslate"><span class="pre">sape()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.se"><code class="docutils literal notranslate"><span class="pre">se()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.sle"><code class="docutils literal notranslate"><span class="pre">sle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.smape"><code class="docutils literal notranslate"><span class="pre">smape()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.sse"><code class="docutils literal notranslate"><span class="pre">sse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#darts.metrics.metrics.wmape"><code class="docutils literal notranslate"><span class="pre">wmape()</span></code></a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated_api/darts.metrics.metrics.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2020 - 2025, Unit8 SA (Apache 2.0 License).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>